<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="scrabble.client.controller.LobbyController"
            styleClass="root-pane">

    <top>
        <VBox spacing="10" styleClass="header-box">
            <padding>
                <Insets top="20" right="20" bottom="10" left="20"/>
            </padding>
            <Label text="СЕТЕВОЙ СКРЭББЛ" styleClass="title-label">
                <font>
                    <Font name="Arial" size="24"/>
                </font>
            </Label>

            <HBox spacing="20" alignment="CENTER_LEFT">
                <TextField fx:id="playerNameField" promptText="Ваше имя"
                           styleClass="name-field" prefWidth="200"/>
                <TextField fx:id="serverAddressField" text="localhost"
                           promptText="Адрес сервера" prefWidth="150"/>
                <TextField fx:id="serverPortField" text="5555"
                           promptText="Порт" prefWidth="80"/>
                <Button fx:id="connectButton" text="Подключиться"
                        styleClass="connect-button" onAction="#handleConnect"/>
                <Button fx:id="disconnectButton" text="Отключиться"
                        disabled="true" onAction="#handleDisconnect"/>
                <Label fx:id="statusLabel" text="Не подключено"
                       styleClass="status-label"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <SplitPane dividerPositions="0.3" orientation="HORIZONTAL">
            <!-- Левая панель: Создание комнаты -->
            <VBox spacing="15" styleClass="room-creation-pane">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <Label text="Создать комнату" styleClass="section-label">
                    <font>
                        <Font name="Arial" size="16"/>
                    </font>
                </Label>

                <TextField fx:id="newRoomNameField" promptText="Название комнаты"/>
                <ComboBox fx:id="maxPlayersCombo" promptText="Количество игроков">
                    <items>
                        <FXCollections fx:factory="observableArrayList">
                            <String fx:value="2"/>
                            <String fx:value="3"/>
                            <String fx:value="4"/>
                        </FXCollections>
                    </items>
                </ComboBox>
                <Button fx:id="createRoomButton" text="Создать комнату"
                        onAction="#handleCreateRoom" disabled="true"/>

                <Separator/>

                <Label text="Доступные комнаты" styleClass="section-label">
                    <font>
                        <Font name="Arial" size="16"/>
                    </font>
                </Label>

                <ListView fx:id="roomsListView" styleClass="rooms-list"/>
                <Button fx:id="joinRoomButton" text="Войти в комнату"
                        onAction="#handleJoinRoom" disabled="true"/>
            </VBox>

            <!-- Правая панель: Игроки в комнате -->
            <VBox spacing="15" styleClass="room-info-pane">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <Label fx:id="currentRoomLabel" text="Не в комнате"
                       styleClass="current-room-label">
                    <font>
                        <Font name="Arial" size="18"/>
                    </font>
                </Label>

                <ListView fx:id="playersListView" styleClass="players-list"/>

                <HBox spacing="10">
                    <Button fx:id="readyButton" text="Готов"
                            onAction="#handleReady" disabled="true"/>
                    <Button fx:id="leaveRoomButton" text="Покинуть комнату"
                            onAction="#handleLeaveRoom" disabled="true"/>
                    <Button fx:id="startGameButton" text="Начать игру"
                            onAction="#handleStartGame" disabled="true"/>
                </HBox>

                <Separator/>

                <Label text="Чат комнаты" styleClass="section-label">
                    <font>
                        <Font name="Arial" size="16"/>
                    </font>
                </Label>

                <TextArea fx:id="chatArea" editable="false"
                          styleClass="chat-area" VBox.vgrow="ALWAYS"/>

                <HBox spacing="10">
                    <TextField fx:id="chatInputField" promptText="Сообщение..."
                               HBox.hgrow="ALWAYS" onAction="#handleSendChat"/>
                    <Button fx:id="sendChatButton" text="Отправить"
                            onAction="#handleSendChat"/>
                </HBox>
            </VBox>
        </SplitPane>
    </center>

</BorderPane>